<%- include('../partials/head') %>
</head>

<body class="bg-gradient-to-r from-blue-100 to-purple-100 min-h-screen">
  <%- include('../partials/nav') %>

  <div class="flex items-center justify-center py-10 min-h-screen px-4">
    <div class="w-full max-w-md bg-white shadow-2xl rounded-2xl overflow-hidden border border-gray-200">
      <!-- Banner -->
      <div class="bg-gradient-to-r from-indigo-600 to-purple-600 py-6 text-center text-white">
        <h2 class="text-2xl font-bold">Create an Account</h2>
        <p class="text-sm text-indigo-200">Join us to book or host amazing stays</p>
      </div>

      <!-- Form -->
      <form action="/signup" method="POST" class="px-8 py-10 space-y-6">
        <%- include('../partials/error') %>

        <!-- First & Last Name -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
            <input type="text" name="firstName" id="firstName" value="<%= oldInput.firstName || '' %>" required
              placeholder="Ram"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500" />
          </div>
          <div>
            <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
            <input type="text" name="lastName" id="lastName" value="<%= oldInput.lastName || '' %>"
              placeholder="Sharma"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500" />
          </div>
        </div>

        <!-- Bio -->
        <div>
          <label for="bio" class="block text-sm font-medium text-gray-700 mb-1">Bio</label>
          <input type="text" name="bio" id="bio" value="<%= oldInput.bio || '' %>" placeholder="Tell us about yourself"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500" />
        </div>

        <!-- Phone -->
        <div>
          <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
          <input type="number" name="phoneNumber" id="phoneNumber" value="<%= oldInput.phoneNumber || '' %>"
            placeholder="1234567890"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500" />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
          <input type="email" name="email" id="email" value="<%= oldInput.email || '' %>" required
            placeholder="example@mail.com"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500" />
        </div>

        <!-- Password & Confirm -->
        <% const passInput = (id, label) => { %>
        <div>
          <label for="<%= id %>" class="block text-sm font-medium text-gray-700 mb-1"><%= label %></label>
          <div class="relative">
            <input type="password" name="<%= id %>" id="<%= id %>" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500" />
            <button type="button" onclick="togglePassword('<%= id %>')"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-sm text-gray-500 hover:text-gray-700">
              üëÅÔ∏è
            </button>
          </div>
        </div>
        <% } %>
        <% passInput('password', 'Password') %>
        <% passInput('confirmPassword', 'Confirm Password') %>

        <!-- User Type -->
        <div class="flex space-x-6 items-center text-sm text-gray-700">
          <label class="flex items-center space-x-2">
            <input type="radio" name="userType" value="guest" <%= oldInput.userType === 'guest' ? 'checked' : '' %> checked
              class="text-indigo-600 focus:ring-indigo-500" />
            <span>Guest</span>
          </label>
          <label class="flex items-center space-x-2">
            <input type="radio" name="userType" value="host" <%= oldInput.userType === 'host' ? 'checked' : '' %>
              class="text-indigo-600 focus:ring-indigo-500" />
            <span>Owner</span>
          </label>
        </div>

        <!-- Terms -->
        <div class="text-sm text-gray-600 flex items-start space-x-2">
          <input type="checkbox" name="terms" required class="mt-1 rounded text-indigo-600 focus:ring-indigo-500" />
          <label>
            I agree to the
            <a href="/terms" class="text-indigo-600 underline hover:text-indigo-800">terms and conditions</a>
          </label>
        </div>

        <!-- Submit -->
        <button type="submit"
          class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-2.5 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition shadow-md">
          Sign Up
        </button>
      </form>

      <!-- Login Link -->
      <div class="text-center mt-6 mb-6">
        <p class="text-sm text-gray-600">
          Already have an account?
          <a href="/login" class="font-medium text-indigo-600 hover:text-indigo-500">Log in</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    function togglePassword(id) {
      const input = document.getElementById(id);
      input.type = input.type === "password" ? "text" : "password";
    }
  </script>
</body>
</html>
